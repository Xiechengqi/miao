# Miao Configuration Example
#
# Tip: If `config.yaml` is missing, open http://localhost:6161 to initialize
# (set login password) and miao will generate `config.yaml` automatically.

# HTTP API port (optional, default: 6161)
# port: 6161

# Web login password (optional, default: "admin")
# password: admin

# Remembered node selections (optional)
# Key is selector group name, value is selected node name.
# selections:
#   proxy: "节点名"

# sing-box home directory (optional)
# If not specified, miao will use embedded sing-box binary
# and extract it to ./runtime directory
# sing_box_home: /home/alice/pros/miao/sing-box

# Subscription files are loaded from ./sub by default (or `--sub <path>`).
# Put subscription files in that directory and reload from the Web UI.

# Manual nodes in JSON format (optional)
nodes:
  # - '{"type":"hysteria2","tag":"my-node","server":"example.com","server_port":443,"password":"xxx"}'

# DNS auto failover (optional)
# Active DNS server tag used in sing-box `dns.final`.
# dns_active: doh-cf
#
# Candidate tags for health checks / failover.
# For non-ssh nodes, miao will fallback to `doh-cf` when all candidates fail (it won't auto-switch to `dns-direct`).
# dns_candidates:
#   - doh-cf
#   - doh-google
#   # Note: `dns-direct` will only be used automatically when the active `proxy` node type is `ssh`.
#   # If you want to use UDP DNS (IP DNS), add tags like `dns-google-udp` / `dns-114-udp` here so they can be selected.
#
# Health check interval and thresholds (milliseconds).
# dns_check_interval_ms: 30000
# dns_fail_threshold: 3
# dns_cooldown_ms: 300000

# Proxy multi-select & auto failover (optional)
# Selected candidate nodes (ordered by priority). When there are 2+ candidates,
# miao will periodically check https://3.0.3.0/ips and fail over on repeated failures.
# proxy_pool:
#   - "节点A"
#   - "节点B"
#
# proxy_monitor_enabled: true
# proxy_check_interval_ms: 180000
# proxy_check_timeout_ms: 3000
# proxy_fail_threshold: 3
# proxy_window_size: 10
# proxy_window_fail_rate: 0.6
# proxy_pause_ms: 60000
